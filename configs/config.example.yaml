db_path: data/aof.db
retention_days: 30

# Your watchlist: "600519.SH", "000001.SZ", "920152.BJ"
watchlist:
  - 600519.SH
  - 000001.SZ

realtime:
  interval_seconds: 20
  # If true, only collect during CN trading sessions (Asia/Shanghai).
  only_during_trading_hours: true

persist:
  # Realtime data is kept in memory; this controls how often we snapshot it to SQLite.
  interval_seconds: 60

cleanup:
  # Cleanup SQLite once per day; delete data older than retention_days.
  enabled: true
  # Asia/Shanghai time, HH:MM
  run_at: "03:10"

toplist:
  size: 10
  # A-share universe (SH/SZ/BJ; excludes funds/indices).
  fs: "m:0+t:6,m:0+t:13,m:0+t:80,m:1+t:2,m:1+t:23"
  # Eastmoney field id; f62 is commonly "today main net inflow".
  fid: "f62"

industry:
  enabled: true
  # 86 industries fit in one page (pz=100), so safe to collect all each tick.
  interval_seconds: 10
  fs: "m:90+t:2"
  fid: "f62"

concept:
  enabled: true
  # Concepts are many; collecting all is heavier. Default: refresh every 60s, top 100.
  interval_seconds: 60
  fs: "m:90+t:3"
  fid: "f62"
  collect_all: false
  top_size: 100

market_agg:
  enabled: true
  # Sum of all A-share stocks (about 5500) by paging (100/page).
  # Recommended: 60s+ to avoid excessive requests on free endpoints.
  interval_seconds: 60
  fs: "m:0+t:6,m:0+t:13,m:0+t:80,m:1+t:2,m:1+t:23"
  fid: "f62"
  concurrency: 2

board_trend:
  batch_size: 20
  concurrency: 2
  gap_ms: 400
  after_close_mode: once
  after_close_interval_seconds: 300
